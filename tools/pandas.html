<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pandas Study Sheet</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            background-color: #f4f7f9;
        }

        /* Navbar Styles */
        .navbar {
            background-color: #2c3e50;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 40px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .navbar a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95em;
            transition: color 0.2s ease;
        }
        .navbar a:hover {
            color: #3498db;
            text-decoration: none;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #2c3e50;
            border-bottom: 1px solid #3498db;
            padding-bottom: 8px;
            margin-top: 40px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            vertical-align: top;
        }
        th {
            background-color: #3498db;
            color: white;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1px;
            min-width: 120px;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        code {
            background-color: #f8f8f8;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
            color: #d63384;
            display: block;
            white-space: pre-wrap;
            font-size: 0.9em;
        }
        .desc {
            font-size: 0.95em;
        }
        .pandas-keyword {
            font-weight: bold;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <h1>Pandas Study Sheet</h1>
    <p style="text-align: center;">Reference: <a href="https://pandas.pydata.org/">https://pandas.pydata.org/</a></p>
    <p style="text-align: center; font-style: italic;">Examples updated to reflect the popular <strong>Titanic</strong> dataset (Passengers, Survival, Age, Fare).</p>

    <nav class="navbar">
        <a href="#importing-creating">Importing & Creating</a>
        <a href="#viewing-inspecting">Viewing & Inspecting</a>
        <a href="#selecting-indexing">Selecting & Indexing</a>
        <a href="#filtering">Filtering</a>
        <a href="#handling-missing">Handling Missing Data</a>
        <a href="#data-cleaning">Data Cleaning</a>
        <a href="#manipulating">Manipulating</a>
        <a href="#string-operations">String Operations</a>
        <a href="#applying-functions">Applying Functions</a>
        <a href="#statistical">Statistical Operations</a>
        <a href="#grouping-aggregating">Grouping & Aggregating</a>
        <a href="#merging-concatenating">Merging & Concatenating</a>
        <a href="#reshaping">Reshaping</a>
        <a href="#time-series">Time Series</a>
        <a href="#exporting">Exporting</a>
    </nav>

    <h2 id="importing-creating">Importing and Creating Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">Import Pandas</td>
            <td class="desc">Imports the Pandas library.</td>
            <td><code>import pandas as pd</code></td>
            <td><code>import pandas as pd</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">DataFrame</td>
            <td class="desc">Creates a tabular data structure from a list or dictionary.</td>
            <td><code>pd.DataFrame(data)</code></td>
            <td><code>data = {'Name': ['Braund, Mr. Owen Harris', 'Heikkinen, Miss. Laina'], 'Age': [22, 26], 'Survived': [0, 1]}<br>df = pd.DataFrame(data)<br>print(df)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">Series</td>
            <td class="desc">Creates a one-dimensional labeled array.</td>
            <td><code>pd.Series(data)</code></td>
            <td><code>ages = pd.Series([22, 38, 26, 35])<br>print(ages)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">read_csv()</td>
            <td class="desc">Reads a CSV file into a DataFrame.</td>
            <td><code>pd.read_csv(path)</code></td>
            <td><code>df = pd.read_csv('titanic.csv')<br>print(df.head())</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">read_excel()</td>
            <td class="desc">Reads an Excel file into a DataFrame.</td>
            <td><code>pd.read_excel(path)</code></td>
            <td><code>df = pd.read_excel('titanic.xlsx', sheet_name='passengers')</code></td>
        </tr>
    </table>

    <h2 id="viewing-inspecting">Viewing and Inspecting Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">head()</td>
            <td class="desc">Returns the first <i>n</i> rows.</td>
            <td><code>df.head(n=5)</code></td>
            <td><code>print(df.head(3))<br># Shows first 3 passengers</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">tail()</td>
            <td class="desc">Returns the last <i>n</i> rows.</td>
            <td><code>df.tail(n=5)</code></td>
            <td><code>print(df.tail(3))<br># Shows last 3 passengers</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">info()</td>
            <td class="desc">Summary of DataFrame including index, columns, non-null counts, and memory usage.</td>
            <td><code>df.info()</code></td>
            <td><code>df.info()<br># RangeIndex: 891 entries...<br># Data columns (total 12 columns)...</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">describe()</td>
            <td class="desc">Generates descriptive statistics (mean, std, min, max) for numerical columns.</td>
            <td><code>df.describe()</code></td>
            <td><code>print(df.describe())<br># Stats for Age, Fare, Pclass, etc.</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">shape</td>
            <td class="desc">Returns a tuple (rows, columns).</td>
            <td><code>df.shape</code></td>
            <td><code>print(df.shape)<br># (891, 12)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">columns</td>
            <td class="desc">Returns the column labels.</td>
            <td><code>df.columns</code></td>
            <td><code>print(df.columns.tolist())<br># ['PassengerId', 'Survived', 'Pclass', 'Name'...]</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">index</td>
            <td class="desc">Returns the index (row labels) of the DataFrame.</td>
            <td><code>df.index</code></td>
            <td><code>print(df.index)<br># RangeIndex(start=0, stop=891, step=1)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">dtypes</td>
            <td class="desc">Returns data types of each column.</td>
            <td><code>df.dtypes</code></td>
            <td><code>print(df.dtypes)<br># Age: float64, Name: object</code></td>
        </tr>
    </table>

    <h2 id="selecting-indexing">Selecting and Indexing Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">loc[]</td>
            <td class="desc">Access rows/columns by <strong>label</strong> or boolean array.</td>
            <td><code>df.loc[labels]</code></td>
            <td><code># Select Name and Age for index 5 to 10<br>print(df.loc[5:10, ['Name', 'Age']])</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">iloc[]</td>
            <td class="desc">Access rows/columns by <strong>integer position</strong>.</td>
            <td><code>df.iloc[positions]</code></td>
            <td><code># Select first 5 rows and first 3 columns<br>print(df.iloc[:5, :3])</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">set_index()</td>
            <td class="desc">Sets a column as the index.</td>
            <td><code>df.set_index(keys)</code></td>
            <td><code>df.set_index('PassengerId', inplace=True)<br># Rows now accessed by PassengerId</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">reset_index()</td>
            <td class="desc">Resets the index to default integer index.</td>
            <td><code>df.reset_index()</code></td>
            <td><code>df.reset_index(inplace=True)</code></td>
        </tr>
    </table>

    <h2 id="filtering">Filtering Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">Boolean Indexing</td>
            <td class="desc">Filter data using conditions (& for AND, | for OR, ~ for NOT).</td>
            <td><code>df[condition]</code></td>
            <td><code># Women over 30 who survived<br>survivors = df[(df['Sex'] == 'female') & (df['Age'] > 30) & (df['Survived'] == 1)]</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">isin()</td>
            <td class="desc">Filter rows where column value is present in a list.</td>
            <td><code>df[col.isin(list)]</code></td>
            <td><code># Passengers in 1st or 2nd class<br>premium = df[df['Pclass'].isin([1, 2])]</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">query()</td>
            <td class="desc">Filter using a query string expression.</td>
            <td><code>df.query(expr)</code></td>
            <td><code># Passengers with Fare > 100<br>rich = df.query('Fare > 100 and Survived == 1')</code></td>
        </tr>
    </table>

    <h2 id="handling-missing">Handling Missing Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">isna()</td>
            <td class="desc">Detects missing values (NaN).</td>
            <td><code>df.isna().sum()</code></td>
            <td><code>print(df.isna().sum())<br># Age: 177, Cabin: 687, Embarked: 2</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">dropna()</td>
            <td class="desc">Removes rows (or columns) with missing values.</td>
            <td><code>df.dropna()</code></td>
            <td><code># Drop rows where 'Age' is missing<br>df_clean = df.dropna(subset=['Age'])</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">fillna()</td>
            <td class="desc">Fills missing values with a specified value or strategy.</td>
            <td><code>df.fillna(value)</code></td>
            <td><code># Fill missing Age with mean Age<br>df['Age'].fillna(df['Age'].mean(), inplace=True)</code></td>
        </tr>
    </table>

    <h2 id="data-cleaning">Data Cleaning</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">unique() / nunique()</td>
            <td class="desc">Get unique values or the count of unique values.</td>
            <td><code>df[col].unique()</code></td>
            <td><code>print(df['Embarked'].unique())<br># ['S', 'C', 'Q', nan]<br>print(df['Pclass'].nunique()) # 3</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">drop_duplicates()</td>
            <td class="desc">Removes duplicate rows.</td>
            <td><code>df.drop_duplicates()</code></td>
            <td><code>df.drop_duplicates(subset=['Ticket'], keep='first', inplace=True)</code></td>
        </tr>
    </table>

    <h2 id="manipulating">Manipulating Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">Adding Columns</td>
            <td class="desc">Create a new column by assigning a value or calculation to a new key.</td>
            <td><code>df['New'] = val</code></td>
            <td><code># Create 'FamilySize' from SibSp + Parch<br>df['FamilySize'] = df['SibSp'] + df['Parch'] + 1</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">rename()</td>
            <td class="desc">Renames columns or index labels.</td>
            <td><code>df.rename(columns={...})</code></td>
            <td><code>df.rename(columns={'Pclass': 'PassengerClass'}, inplace=True)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">drop()</td>
            <td class="desc">Removes specified rows or columns.</td>
            <td><code>df.drop(labels, axis)</code></td>
            <td><code># Drop the 'Cabin' column<br>df.drop('Cabin', axis=1, inplace=True)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">sort_values()</td>
            <td class="desc">Sorts by values along an axis.</td>
            <td><code>df.sort_values(by)</code></td>
            <td><code># Sort by Class (asc) then Fare (desc)<br>df.sort_values(by=['Pclass', 'Fare'], ascending=[True, False], inplace=True)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">astype()</td>
            <td class="desc">Casts a pandas object to a specified dtype.</td>
            <td><code>df.astype(dtype)</code></td>
            <td><code># Convert Survived to boolean<br>df['Survived'] = df['Survived'].astype(bool)</code></td>
        </tr>
    </table>

    <h2 id="string-operations">String Operations</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">str.contains()</td>
            <td class="desc">Tests if pattern or regex is contained in string.</td>
            <td><code>df[col].str.contains()</code></td>
            <td><code># Find all 'Mr.' titles<br>misters = df[df['Name'].str.contains('Mr\.')]</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">str.lower() / str.upper()</td>
            <td class="desc">Converts strings to lowercase or uppercase.</td>
            <td><code>df[col].str.upper()</code></td>
            <td><code>df['Name'] = df['Name'].str.upper()</code></td>
        </tr>
         <tr>
            <td class="pandas-keyword">str.split()</td>
            <td class="desc">Splits string on delimiter.</td>
            <td><code>df[col].str.split()</code></td>
            <td><code># Extract Last Name (before comma)<br>df['LastName'] = df['Name'].str.split(',').str[0]</code></td>
        </tr>
    </table>

    <h2 id="applying-functions">Applying Functions</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">apply()</td>
            <td class="desc">Applies a function along an axis of the DataFrame.</td>
            <td><code>df.apply(func)</code></td>
            <td><code># Define function to categorize Age<br>def categorize(age):<br>    return 'Child' if age < 18 else 'Adult'<br>df['AgeGroup'] = df['Age'].apply(categorize)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">map()</td>
            <td class="desc">Maps values of Series using a dictionary.</td>
            <td><code>series.map(dict)</code></td>
            <td><code># Map 'male' to 0, 'female' to 1<br>df['SexCode'] = df['Sex'].map({'male': 0, 'female': 1})</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">applymap()</td>
            <td class="desc">Applies a function to every element of the DataFrame (element-wise).</td>
            <td><code>df.applymap(func)</code></td>
            <td><code># Convert all elements in numeric df to float<br>df_num = df[['Age', 'Fare']].applymap(float)</code></td>
        </tr>
    </table>

    <h2 id="statistical">Statistical Operations</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">mean() / median() / mode()</td>
            <td class="desc">Central tendency measures.</td>
            <td><code>df.mean()</code></td>
            <td><code>avg_fare = df['Fare'].mean()<br>median_age = df['Age'].median()</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">std() / var()</td>
            <td class="desc">Standard deviation and variance.</td>
            <td><code>df.std()</code></td>
            <td><code>age_variability = df['Age'].std()</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">min() / max()</td>
            <td class="desc">Minimum and maximum values.</td>
            <td><code>df.min()</code></td>
            <td><code>youngest = df['Age'].min() # 0.42<br>oldest = df['Age'].max() # 80.0</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">quantile()</td>
            <td class="desc">Values at given quantile (0 to 1).</td>
            <td><code>df.quantile(q)</code></td>
            <td><code># 75th percentile of Fare<br>high_fare = df['Fare'].quantile(0.75)</code></td>
        </tr>
         <tr>
            <td class="pandas-keyword">value_counts()</td>
            <td class="desc">Counts of unique values (frequency).</td>
            <td><code>series.value_counts()</code></td>
            <td><code>print(df['Pclass'].value_counts())<br># 3: 491, 1: 216, 2: 184</code></td>
        </tr>
    </table>

    <h2 id="grouping-aggregating">Grouping and Aggregating</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">groupby()</td>
            <td class="desc">Groups DataFrame using a mapper or by columns.</td>
            <td><code>df.groupby(by)</code></td>
            <td><code># Average survival rate by Pclass<br>print(df.groupby('Pclass')['Survived'].mean())</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">agg()</td>
            <td class="desc">Aggregates using one or more operations.</td>
            <td><code>grouped.agg(func)</code></td>
            <td><code># Mean Fare and Max Age per Class<br>print(df.groupby('Pclass').agg({'Fare': 'mean', 'Age': 'max'}))</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">pivot_table()</td>
            <td class="desc">Creates a spreadsheet-style pivot table.</td>
            <td><code>pd.pivot_table()</code></td>
            <td><code># Survival rate by Sex and Class<br>pt = pd.pivot_table(df, values='Survived', index='Sex', columns='Pclass', aggfunc='mean')</code></td>
        </tr>
    </table>

    <h2 id="merging-concatenating">Merging and Concatenating</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">concat()</td>
            <td class="desc">Concatenates pandas objects along an axis (stacking).</td>
            <td><code>pd.concat(objs)</code></td>
            <td><code># Combine train and test sets<br>combined = pd.concat([train_df, test_df], axis=0)</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">merge()</td>
            <td class="desc">Merges DataFrames (SQL-style join).</td>
            <td><code>pd.merge(left, right)</code></td>
            <td><code># Merge passenger data with ticket details<br>full_data = pd.merge(df_passengers, df_tickets, on='TicketId', how='left')</code></td>
        </tr>
    </table>

    <h2 id="reshaping">Reshaping Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">melt()</td>
            <td class="desc">Unpivots DataFrame from wide to long format.</td>
            <td><code>pd.melt(df)</code></td>
            <td><code># Useful for plotting<br>long_df = pd.melt(df, id_vars=['PassengerId'], value_vars=['Age', 'Fare'])</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">pivot()</td>
            <td class="desc">Reshapes data from long to wide format.</td>
            <td><code>df.pivot()</code></td>
            <td><code># Reshape back to wide<br>wide = long_df.pivot(index='PassengerId', columns='variable', values='value')</code></td>
        </tr>
    </table>

    <h2 id="time-series">Time Series Operations</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">to_datetime()</td>
            <td class="desc">Converts argument to datetime.</td>
            <td><code>pd.to_datetime(col)</code></td>
            <td><code># Assuming we have a date column<br>df['Date'] = pd.to_datetime(df['DateStr'])</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">resample()</td>
            <td class="desc">Frequency conversion (e.g., daily to monthly).</td>
            <td><code>df.resample(freq)</code></td>
            <td><code># Monthly mean sales<br>monthly_sales = sales_df.resample('M').mean()</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">rolling()</td>
            <td class="desc">Rolling window calculations.</td>
            <td><code>df.rolling(window)</code></td>
            <td><code># 7-day moving average<br>ma7 = stock_df['Price'].rolling(window=7).mean()</code></td>
        </tr>
        <tr>
            <td class="pandas-keyword">shift()</td>
            <td class="desc">Shifts index by desired number of periods.</td>
            <td><code>df.shift(periods)</code></td>
            <td><code># Compare today vs yesterday<br>df['PrevDay'] = df['Price'].shift(1)</code></td>
        </tr>
    </table>

    <h2 id="exporting">Exporting Data</h2>
    <table>
        <tr>
            <th>Keyword</th>
            <th>Description</th>
            <th>Syntax</th>
            <th>Example</th>
        </tr>
        <tr>
            <td class="pandas-keyword">to_csv()</td>
            <td class="desc">Saves DataFrame to CSV.</td>
            <td><code>df.to_csv(filename)</code></td>
            <td><code>df.to_csv('titanic_cleaned.csv', index=False)</code></td>
        </tr>
    </table>

</body>
</html>